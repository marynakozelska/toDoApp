<div class="m-4">
  <form #addForm="ngForm" (ngSubmit)="onAddToDoItem(addForm)">
    <label for="content">Content: </label>
    <input type="text" ngModel name="content" id="content" class="form-control" required/>
    <br/>

    <label for="description">Description: </label>
    <input type="text" ngModel name="description" id="description" class="form-control"/>
    <br/>

    <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">Create</button>
  </form>
</div>

<div class="container" id="main-container">
  <h2>Your To-Do:</h2>

  <div *ngFor="let item of toDoItems">
    <div class="todo-item">
      {{item?.content}}: {{item?.description}}



        <div class="float-right btn-group btn-group-sm">
          <a (click)="onOpenModal(item, 'edit')" class="btn btn-primary tooltips"
             data-placement="top" data-original-title="Edit"><i class="fa fa-pencil"></i>
          </a>
          <a (click)="onOpenModal(item, 'delete')" class="btn btn-secondary tooltips"
             data-placement="top" data-original-title="Delete"><i class="fa fa-times"></i>
          </a>
        </div>
    </div>
  </div>

</div>

<!-- Edit Modal -->

<div class="modal fade" id="updateToDoItemModal" tabindex="-1" role="dialog" aria-labelledby="updateToDoItemModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="updateToDoItemLabel">Edit ToDoItem {{editToDoItem?.content}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form #editForm="ngForm">

          <input type="hidden" ngModel="{{editToDoItem?.id}}" name="id" class="form-control" id="id">

          <div class="form-group">
            <label for="content">Content: </label>
            <input type="text" ngModel="{{editToDoItem?.content}}" name="content" id="content" class="form-control"
                   required/>
          </div>

          <div class="form-group">
            <label for="description">Description: </label>
            <input type="text" ngModel="{{editToDoItem?.description}}" name="description" id="description"
                   class="form-control"/>
          </div>

          <div class="modal-footer">
            <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
            <button (click)="onUpdateToDoItem(editForm.value)" data-dismiss="modal" class="btn btn-primary">
              Save changes
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>

<!-- Delete Modal -->

<div class="modal fade" id="deleteToDoItemModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="deleteModelLabel">Delete task</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <p>Are you sure you want to delete task {{deleteToDoItem?.content}}?</p>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
          <button (click)="onDeleteToDoItem(deleteToDoItem.id)" class="btn btn-danger" data-dismiss="modal">Yes</button>
        </div>
      </div>

    </div>
  </div>
</div>
